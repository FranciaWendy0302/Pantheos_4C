[gd_scene load_steps=13 format=4 uid="uid://lp7ukl0x2pok"]

[ext_resource type="PackedScene" uid="uid://b4qoav36rna8p" path="res://Tile Maps/dungeon-01_.tscn" id="1_018op"]
[ext_resource type="Script" uid="uid://cpnnvyl4vml8u" path="res://Levels/scripts/level.gd" id="1_ef107"]
[ext_resource type="PackedScene" uid="uid://d0tvh3gfbxesm" path="res://Levels/player_spawn.tscn" id="2_ef107"]
[ext_resource type="AudioStream" uid="uid://bc4jj6yrib5lr" path="res://Levels/music/example_music_03.ogg" id="2_mur0g"]
[ext_resource type="PackedScene" uid="uid://bkmgd56mqv1ga" path="res://Levels/level_transition.tscn" id="4_7rec6"]
[ext_resource type="PackedScene" uid="uid://nl8p6oy6k7wg" path="res://Interactables/Dungeon/pressure_plate.tscn" id="5_84ovb"]
[ext_resource type="PackedScene" uid="uid://dutt7tppgllui" path="res://quests/utility_nodes/quest_advance_trigger.tscn" id="6_4ed60"]
[ext_resource type="PackedScene" uid="uid://dakfrq3soq1sx" path="res://Interactables/Dungeon/barred_door.tscn" id="6_61fhh"]
[ext_resource type="PackedScene" uid="uid://bbihhl8fanjpa" path="res://quests/utility_nodes/quest_activated_switch.tscn" id="6_wjshu"]
[ext_resource type="PackedScene" uid="uid://nu1ro7iqvu7s" path="res://Interactables/Dungeon/pushable_statue.tscn" id="7_hkgqd"]
[ext_resource type="Resource" uid="uid://ddtsakxdsgbpr" path="res://quests/recover_lost_flute.tres" id="7_wjshu"]
[ext_resource type="PackedScene" uid="uid://6pbtq7dqq7jo" path="res://Enemies/goblin/goblin.tscn" id="8_3rjbv"]

[node name="01" type="Node2D"]
script = ExtResource("1_ef107")
music = ExtResource("2_mur0g")

[node name="Dungeon-01" parent="." instance=ExtResource("1_018op")]
z_index = -1
position = Vector2(10, 56)
tile_map_data = PackedByteArray("AAAGAAUAAQAAAAUAAAAGAAYAAQAAAAYAAAAGAAcAAQAAAAcAAAAHAAUAAQABAAUAAAAHAAYAAQABAAYAAAAHAAcAAQABAAcAAAAIAAUAAQACAAUAAAAIAAYAAQACAAYAAAAIAAcAAQACAAcAAAAJAAUAAQADAAUAAAAJAAYAAQADAAYAAAAJAAcAAQADAAcAAAAGAAgAAQAMAAcAAAAHAAgAAQAMAAcAAAAIAAgAAQAMAAcAAAAJAAgAAQAMAAcAAAAKAAUAAQAMAAQAAAAKAAYAAQAMAAUAAAAKAAcAAQAMAAYAAAAKAAgAAQAMAAcAAAALAAUAAQAMAAQAAAALAAYAAQAMAAUAAAALAAcAAQAMAAYAAAALAAgAAQAMAAcAAAAMAAUAAQAAAAUAAAAMAAYAAQAAAAYAAAAMAAcAAQAAAAcAAAAMAAgAAQAMAAcAAAANAAUAAQAAAAUAABANAAYAAQAAAAYAABANAAcAAQAAAAcAABANAAgAAQAMAAcAAAAOAAUAAQANAAQAAAAOAAYAAQANAAUAAAAOAAcAAQANAAYAAAAOAAgAAQANAAcAAAAPAAUAAQAOAAQAAAAPAAYAAQAOAAUAAAAPAAcAAQAOAAYAAAAPAAgAAQAOAAcAAAAQAAUAAQAPAAQAAAAQAAYAAQAPAAUAAAAQAAcAAQAPAAYAAAAQAAgAAQAPAAcAAAD9/wUAAQAJAAQAAAD9/wYAAQAJAAUAAAD9/wcAAQAJAAYAAAD9/wgAAQAJAAcAAAD+/wUAAQAKAAQAAAD+/wYAAQAKAAUAAAD+/wcAAQAKAAYAAAD+/wgAAQAKAAcAAAD//wUAAQALAAQAAAD//wYAAQALAAUAAAD//wcAAQALAAYAAAD//wgAAQALAAcAAAD9//z/AQAJAAAAAAD9//3/AQAJAAEAAAD9//7/AQAJAAIAAAD+//z/AQAKAAAAAAD+//3/AQAKAAEAAAD+//7/AQAKAAIAAAD///z/AQALAAAAAAD///3/AQALAAEAAAD///7/AQALAAIAAAAOAPz/AQANAAAAAAAOAP3/AQANAAEAAAAOAP7/AQANAAIAAAAPAPz/AQAOAAAAAAAPAP3/AQAOAAEAAAAPAP7/AQAOAAIAAAAQAPz/AQAPAAAAAAAQAP3/AQAPAAEAAAAQAP7/AQAPAAIAAAAAAPz/AQAEAAUAAAAAAP3/AQAEAAYAAAAAAP7/AQAEAAcAAAABAPz/AQAEAAUAABABAP3/AQAEAAYAABABAP7/AQAEAAcAABACAPz/AQAEAAUAAAACAP3/AQAEAAYAAAACAP7/AQAEAAcAAAADAPz/AQAFAAUAAAADAP3/AQAFAAYAAAADAP7/AQAFAAcAAAAEAPz/AQAGAAUAAAAEAP3/AQAGAAYAAAAEAP7/AQAGAAcAAAAFAPz/AQAHAAUAAAAFAP3/AQAHAAYAAAAFAP7/AQAHAAcAAAAGAPz/AQAMAAAAAAAGAP3/AQAMAAEAAAAGAP7/AQAMAAIAAAAHAPz/AQAEAAUAAAAHAP3/AQAEAAYAAAAHAP7/AQAEAAcAAAAIAPz/AQAEAAUAABAIAP3/AQAEAAYAABAIAP7/AQAEAAcAABAJAPz/AQAMAAAAAAAJAP3/AQAMAAEAAAAJAP7/AQAMAAIAAAAKAPz/AQAMAAAAAAAKAP3/AQAMAAEAAAAKAP7/AQAMAAIAAAALAPz/AQAMAAAAAAALAP3/AQAMAAEAAAALAP7/AQAMAAIAAAAMAPz/AQAEAAUAAAAMAP3/AQAEAAYAAAAMAP7/AQAEAAcAAAANAPz/AQAEAAUAABANAP3/AQAEAAYAABANAP7/AQAEAAcAABAFAAUAAQAMAAQAAAAFAAYAAQAMAAUAAAAFAAcAAQAMAAYAAAAFAAgAAQAMAAcAAAAEAAUAAQAMAAQAAAAEAAYAAQAMAAUAAAAEAAcAAQAMAAYAAAAEAAgAAQAMAAcAAAADAAUAAQAAAAUAABADAAYAAQAAAAYAABADAAcAAQAAAAcAABADAAgAAQAMAAcAAAACAAUAAQAAAAUAAAACAAYAAQAAAAYAAAACAAcAAQAAAAcAAAACAAgAAQAMAAcAAAABAAUAAQAMAAQAAAABAAYAAQAMAAUAAAABAAcAAQAMAAYAAAABAAgAAQAMAAcAAAAAAAUAAQAMAAQAAAAAAAYAAQAMAAUAAAAAAAcAAQAMAAYAAAAAAAgAAQAMAAcAAAAOAAQAAQANAAMAAAAPAAQAAQAOAAMAAAAQAAQAAQAPAAMAAAAOAAMAAQANAAMAAAAPAAMAAQAOAAMAAAAQAAMAAQAPAAMAAAAOAAIAAQANAAMAAAAPAAIAAQAOAAMAAAAQAAIAAQAPAAMAAAAOAAEAAQANAAMAAAAPAAEAAQAOAAMAAAAQAAEAAQAPAAMAAAAOAAAAAQANAAMAAAAPAAAAAQAOAAMAAAAQAAAAAQAPAAMAAAAOAP//AQANAAMAAAAPAP//AQAOAAMAAAAQAP//AQAPAAMAAAD9/wQAAQAJAAMAAAD+/wQAAQAKAAMAAAD//wQAAQALAAMAAAD9/wMAAQAJAAMAAAD+/wMAAQAKAAMAAAD//wMAAQALAAMAAAD9/wIAAQAJAAMAAAD+/wIAAQAKAAMAAAD//wIAAQALAAMAAAD9/wEAAQAJAAMAAAD+/wEAAQAKAAMAAAD//wEAAQALAAMAAAD9/wAAAQAJAAMAAAD+/wAAAQAKAAMAAAD//wAAAQALAAMAAAD9////AQAJAAMAAAD+////AQAKAAMAAAD/////AQALAAMAAAAAAP//AQAAAAAAAAAAAAAAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAIAAQAAAAAAAAAAAAMAAQAAAAAAAAAAAAQAAQABAAIAAAABAP//AQAAAAAAAAABAAAAAQAAAAAAAAABAAEAAQABAAIAAAABAAIAAQAAAAAAAAABAAMAAQAAAAAAAAABAAQAAQAAAAAAAAACAP//AQAAAAAAAAACAAAAAQAAAAAAAAACAAEAAQAAAAAAAAACAAIAAQAAAAAAAAACAAMAAQAAAAAAAAACAAQAAQAAAAAAAAADAP//AQAAAAAAAAADAAAAAQAAAAAAAAADAAEAAQACAAEAAAADAAIAAQAAAAAAAAADAAMAAQABAAIAAAADAAQAAQAAAAAAAAAEAP//AQAAAAAAAAAEAAAAAQAAAAAAAAAEAAEAAQAAAAAAAAAEAAIAAQAAAAIAAAAEAAMAAQAAAAAAAAAEAAQAAQAAAAAAAAAFAP//AQAAAAAAAAAFAAAAAQABAAIAAAAFAAEAAQAAAAAAAAAFAAIAAQAAAAAAAAAFAAMAAQAAAAAAAAAFAAQAAQAAAAAAAAAGAP//AQAAAAAAAAAGAAAAAQACAAIAAAAGAAEAAQAAAAAAAAAGAAIAAQAAAAAAAAAGAAMAAQACAAEAAAAGAAQAAQAAAAAAAAAHAP//AQAAAAAAAAAHAAAAAQAAAAAAAAAHAAEAAQAAAAAAAAAHAAIAAQAAAAAAAAAHAAMAAQAAAAAAAAAHAAQAAQAAAAAAAAAIAP//AQAAAAAAAAAIAAAAAQAAAAAAAAAIAAEAAQAAAAAAAAAIAAIAAQAAAAAAAAAIAAMAAQAAAAAAAAAIAAQAAQAAAAAAAAAJAP//AQAAAAAAAAAJAAAAAQAAAAAAAAAJAAEAAQAAAAAAAAAJAAIAAQAAAAAAAAAJAAMAAQAAAAAAAAAJAAQAAQAAAAAAAAAKAP//AQAAAAAAAAAKAAAAAQAAAAAAAAAKAAEAAQAAAAAAAAAKAAIAAQAAAAAAAAAKAAMAAQAAAAAAAAAKAAQAAQAAAAAAAAALAP//AQAAAAAAAAALAAAAAQACAAEAAAALAAEAAQAAAAAAAAALAAIAAQAAAAAAAAALAAMAAQAAAAAAAAALAAQAAQAAAAAAAAAMAP//AQAAAAAAAAAMAAAAAQAAAAAAAAAMAAIAAQAAAAAAAAAMAAMAAQAAAAAAAAAMAAQAAQACAAIAAAANAP//AQAAAAAAAAANAAAAAQAAAAAAAAANAAEAAQAAAAAAAAANAAIAAQABAAIAAAANAAMAAQAAAAAAAAANAAQAAQAAAAAAAAA=")
rendering_quadrant_size = 32

[node name="PlayerSpawn" parent="." instance=ExtResource("2_ef107")]
position = Vector2(363, 159)

[node name="LevelTransition" parent="." instance=ExtResource("4_7rec6")]
position = Vector2(257, 222)
level = "uid://b3eefjkqiqyg2"
target_position_area = "LevelTransition3"
center_player = true
side = 3

[node name="QuestActivatedSwitch" parent="LevelTransition" instance=ExtResource("6_wjshu")]
check_type = 1
remove_when_activated = true
free_on_remove = true
react_to_global_signal = true
linked_quest = ExtResource("7_wjshu")
quest_step = 1
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Checking if Player has completed step: find the dungeon entrance"

[node name="QuestAdvanceTrigger" parent="LevelTransition/QuestActivatedSwitch" instance=ExtResource("6_4ed60")]
linked_quest = ExtResource("7_wjshu")
quest_step = 1
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Step: 1 - find the dungeon entrance
Complete: false"

[node name="LevelTransition2" parent="." instance=ExtResource("4_7rec6")]
position = Vector2(139, 16)
level = "uid://7uljw1hi4iq1"
side = 2

[node name="PressurePlate" parent="." instance=ExtResource("5_84ovb")]
z_index = -1
position = Vector2(410, 104)

[node name="BarredDoor" parent="." instance=ExtResource("6_61fhh")]
position = Vector2(106, 16)

[node name="PushableStatue" parent="." instance=ExtResource("7_hkgqd")]
position = Vector2(72, 114)

[node name="Goblin" parent="." instance=ExtResource("8_3rjbv")]
position = Vector2(187, 42)

[node name="Goblin2" parent="." instance=ExtResource("8_3rjbv")]
position = Vector2(185, 182)

[connection signal="entered_from_here" from="LevelTransition" to="LevelTransition/QuestActivatedSwitch/QuestAdvanceTrigger" method="advance_quest"]
[connection signal="activated" from="PressurePlate" to="BarredDoor" method="open_door"]
[connection signal="deactivated" from="PressurePlate" to="BarredDoor" method="close_door"]
