[gd_scene load_steps=28 format=4 uid="uid://4yxf2onemxsb"]

[ext_resource type="Script" uid="uid://cpnnvyl4vml8u" path="res://Levels/scripts/level.gd" id="1_x70af"]
[ext_resource type="PackedScene" uid="uid://dxsnq7k1cs0tx" path="res://Tile Maps/grass-01.tscn" id="2_tek06"]
[ext_resource type="AudioStream" uid="uid://b2dbw4cfahuw2" path="res://Levels/music/example_music_02.ogg" id="2_wi5as"]
[ext_resource type="PackedScene" uid="uid://d0tvh3gfbxesm" path="res://Levels/player_spawn.tscn" id="3_mwxiv"]
[ext_resource type="PackedScene" uid="uid://ph10wrsaxdqo" path="res://Tile Maps/awdawdawd.tscn" id="4_45xa8"]
[ext_resource type="PackedScene" uid="uid://cg0kg5d3txb2u" path="res://Props/Plants/plant.tscn" id="4_tek06"]
[ext_resource type="PackedScene" uid="uid://bkmgd56mqv1ga" path="res://Levels/level_transition.tscn" id="5_mwxiv"]
[ext_resource type="PackedScene" uid="uid://c0p6tbm4gq8yh" path="res://Levels/level_transition_interact.tscn" id="8_45xa8"]
[ext_resource type="PackedScene" uid="uid://coftgxw6k42r3" path="res://npc/npc.tscn" id="9_wrnjp"]
[ext_resource type="Texture2D" uid="uid://d2vn1x2vkpbi8" path="res://npc/sprites/portraits/npc_portrait_02.png" id="10_xflnv"]
[ext_resource type="Script" uid="uid://nx5jmlnxf0lk" path="res://npc/scripts/npc_resource.gd" id="11_d1jyu"]
[ext_resource type="Texture2D" uid="uid://d4ajehwwfwl6u" path="res://npc/sprites/npc_sprite_02.png" id="12_a2klq"]
[ext_resource type="PackedScene" uid="uid://bbihhl8fanjpa" path="res://quests/utility_nodes/quest_activated_switch.tscn" id="15_45xa8"]
[ext_resource type="Resource" uid="uid://ddtsakxdsgbpr" path="res://quests/recover_lost_flute.tres" id="16_sbev4"]
[ext_resource type="PackedScene" uid="uid://dnj4pmnybsajr" path="res://Interactables/dialog/dialog_interaction.tscn" id="17_vv7nh"]
[ext_resource type="Script" uid="uid://bl2li7lbphm71" path="res://Interactables/dialog/scripts/dialog_text.gd" id="18_s3up8"]
[ext_resource type="Resource" uid="uid://bpsdp1qds5o38" path="res://npc/00_npcs/npc_02.tres" id="19_dffud"]
[ext_resource type="Script" uid="uid://dqede62fqybid" path="res://Interactables/dialog/scripts/dialog_choice.gd" id="20_mdb57"]
[ext_resource type="Script" uid="uid://c1vxl5di4hfss" path="res://Interactables/dialog/scripts/dialog_branch.gd" id="21_gm670"]
[ext_resource type="PackedScene" uid="uid://by7vwvc2j2mgd" path="res://Items/item_pickup/item_pickup.tscn" id="22_d1jyu"]
[ext_resource type="PackedScene" uid="uid://dutt7tppgllui" path="res://quests/utility_nodes/quest_advance_trigger.tscn" id="22_fw76p"]
[ext_resource type="Resource" uid="uid://cccmhqukawh1e" path="res://Items/arrow.tres" id="23_a2klq"]
[ext_resource type="Script" uid="uid://b1mjvc00tsgmu" path="res://quests/utility_nodes/quest_activated_switch.gd" id="23_xflnv"]
[ext_resource type="Resource" uid="uid://bx0ttpbkqqfog" path="res://Items/bomb.tres" id="24_0j6pc"]
[ext_resource type="PackedScene" uid="uid://b8gdfx3a0fpv3" path="res://Interactables/grapple_post/grapple_post.tscn" id="25_a2klq"]

[sub_resource type="Resource" id="Resource_a2klq"]
resource_local_to_scene = true
script = ExtResource("11_d1jyu")
npc_name = "Red Man"
sprite = ExtResource("12_a2klq")
portrait = ExtResource("10_xflnv")
dialog_audio_pitch = 1.0
metadata/_custom_type_script = "uid://nx5jmlnxf0lk"

[sub_resource type="GDScript" id="GDScript_xflnv"]
script/source = "extends Node

@onready var quest_advance_trigger: QuestAdvanceTrigger = $\"..\"

func _ready() -> void:
	quest_advance_trigger.advanced.connect(quest_complete)
	
func quest_complete() -> void:
	PlayerManager.INVENTORY_DATA.use_item(load(\"res://Items/magical_flute.tres\"))
	pass
"

[node name="01" type="Node2D"]
script = ExtResource("1_x70af")
music = ExtResource("2_wi5as")

[node name="Grass-01" parent="." instance=ExtResource("2_tek06")]
tile_map_data = PackedByteArray("AAD9//3/AAACAAUAADD9//7/AAACAAQAADD9////AAAOAAYAAGD9/wAAAAANAAYAAGD9/wEAAAAMAAYAAGD9/wIAAAAMAAYAAGD9/wMAAAAMAAYAAGD9/wQAAAAMAAYAAGD9/wUAAAAMAAYAAGD9/wYAAAAMAAYAAGD9/wcAAAANAAYAAED9/wgAAAAOAAYAAED9/wkAAAAPAAQAAAD9/woAAAAPAAUAAAD9/wsAAAAPAAcAAAD+//3/AAADAAUAADD+//7/AAADAAQAADD+////AAAOAAcAAGD+/wAAAAANAAcAAGD+/wEAAAAMAAcAAGD+/wIAAAAMAAcAAGD+/wMAAAAMAAcAAGD+/wQAAAAMAAcAAGD+/wUAAAAMAAcAAGD+/wYAAAAMAAcAAGD+/wcAAAANAAcAAED+/wgAAAAOAAcAAED+/wkAAAAPAAQAAAD+/woAAAAPAAUAAAD+/wsAAAAPAAcAAAD///3/AAACAAUAADD///7/AAACAAQAADD/////AAAAAAMAAAD//wAAAAABAAEAAAD//wEAAAAAAAEAAAD//wIAAAAAAAEAAAD//wMAAAABAAEAAAD//wQAAAAAAAAAAAD//wUAAAAAAAAAAAD//wYAAAAAAAAAAAD//wcAAAAAAAEAAAD//wgAAAAAAAEAAAD//wkAAAAPAAQAAAD//woAAAAPAAUAAAD//wsAAAAPAAcAAAAAAP3/AAABAAUAADAAAP7/AAABAAQAADAAAP//AAAAAAMAAAAAAAAAAAABAAEAAAAAAAEAAAAAAAEAAAAAAAIAAAAAAAEAAAAAAAMAAAAAAAEAAAAAAAQAAAABAAEAAAAAAAUAAAACAAEAAAAAAAYAAAAAAAAAAAAAAAcAAAAAAAEAAAAAAAgAAAAAAAEAAAAAAAkAAAAPAAQAAAAAAAoAAAAPAAUAAAAAAAsAAAAPAAcAAAABAP3/AAAMAAAAAAABAP7/AAAMAAEAAAABAP//AAAMAAEAAAABAAAAAAAMAAEAAAABAAEAAAAMAAEAAAABAAIAAAAMAAEAAAABAAMAAAAMAAEAAAABAAQAAAAMAAEAAAABAAUAAAAMAAEAAAABAAYAAAAMAAEAAAABAAcAAAAMAAEAAAABAAgAAAAMAAMAAAABAAkAAAAPAAQAAAABAAoAAAAPAAUAAAABAAsAAAAPAAcAAAACAP3/AAAPAAAAAAACAP7/AAAPAAEAAAACAP//AAAPAAEAAAACAAAAAAAPAAIAAAACAAEAAAAPAAIAAAACAAIAAAAPAAIAAAACAAMAAAAPAAEAAAACAAQAAAAPAAEAAAACAAUAAAAPAAEAAAACAAYAAAAPAAIAAAACAAcAAAAKAAEAAAACAAgAAAAOAAMAAAACAAkAAAAPAAQAAAACAAoAAAAPAAUAAAACAAsAAAAPAAcAAAADAP3/AAAFAAUAADADAP7/AAAFAAQAADADAP//AAAAAAMAAAADAAAAAAAAAAEAAAADAAEAAAAAAAEAAAADAAIAAAAAAAEAAAADAAMAAAAAAAEAAAADAAQAAAAAAAEAAAADAAUAAAAAAAEAAAADAAYAAAAAAAEAAAADAAcAAAAOAAAAAAADAAgAAAAOAAMAAAADAAkAAAAPAAQAAAADAAoAAAAPAAUAAAADAAsAAAAPAAcAAAAEAP3/AAAEAAUAADAEAP7/AAAEAAQAADAEAP//AAAAAAMAAAAEAAAAAAAAAAEAAAAEAAEAAAACAAEAAAAEAAIAAAAAAAEAAAAEAAMAAAAAAAEAAAAEAAQAAAABAAEAAAAEAAUAAAAAAAEAAAAEAAYAAAABAAEAAAAEAAcAAAAOAAAAAAAEAAgAAAAOAAMAAAAEAAkAAAAPAAQAAAAEAAoAAAAPAAUAAAAEAAsAAAAPAAcAAAAFAP3/AAADAAUAADAFAP7/AAADAAQAADAFAP//AAAAAAMAAAAFAAAAAAAAAAEAAAAFAAEAAAACAAEAAAAFAAIAAAAAAAEAAAAFAAMAAAAAAAEAAAAFAAQAAAAAAAEAAAAFAAUAAAAAAAEAAAAFAAYAAAAAAAEAAAAFAAcAAAAOAAAAAAAFAAgAAAANAAMAAAAFAAkAAAAPAAQAAAAFAAoAAAAPAAUAAAAFAAsAAAAPAAcAAAAGAP3/AAADAAUAADAGAP7/AAADAAQAADAGAP//AAABAAEAAAAGAAAAAAAAAAEAAAAGAAEAAAAAAAEAAAAGAAIAAAAAAAEAAAAGAAMAAAAAAAEAAAAGAAQAAAAAAAEAAAAGAAUAAAAAAAEAAAAGAAYAAAAAAAEAAAAGAAcAAAAOAAAAAAAGAAgAAAANAAMAAAAGAAkAAAAPAAQAAAAGAAoAAAAPAAUAAAAGAAsAAAAPAAcAAAAHAP3/AAADAAUAADAHAP7/AAAKAAQAAAAHAP//AAAKAAUAAAAHAAAAAAAKAAUAAAAHAAEAAAAKAAYAAAAHAAIAAAAKAAcAAAAHAAMAAAAAAAEAAAAHAAQAAAAAAAEAAAAHAAUAAAABAAEAAAAHAAYAAAAAAAEAAAAHAAcAAAAOAAAAAAAHAAgAAAAOAAMAAAAHAAkAAAAPAAQAAAAHAAoAAAAPAAUAAAAHAAsAAAAPAAcAAAAIAP3/AAADAAUAADAIAP7/AAALAAQAAAAIAP//AAAAAAMAAAAIAAAAAAAAAAEAAAAIAAEAAAALAAYAAAAIAAIAAAALAAcAAAAIAAMAAAACAAEAAAAIAAQAAAAAAAEAAAAIAAUAAAAAAAEAAAAIAAYAAAAAAAEAAAAIAAcAAAAOAAAAAAAIAAgAAAAOAAMAAAAIAAkAAAAPAAQAAAAIAAoAAAAPAAUAAAAIAAsAAAAPAAcAAAAJAP3/AAADAAUAADAJAP7/AAAMAAQAAAAJAP//AAAAAAMAAAAJAAAAAAAAAAEAAAAJAAEAAAAAAAEAAAAJAAIAAAAEAAMAAAAJAAMAAAACAAEAAAAJAAQAAAACAAEAAAAJAAUAAAAAAAEAAAAJAAYAAAAAAAEAAAAJAAcAAAAOAAAAAAAJAAgAAAAOAAMAAAAJAAkAAAAPAAQAAAAJAAoAAAAPAAUAAAAJAAsAAAAPAAcAAAAKAP3/AAADAAUAADAKAP7/AAANAAQAAAAKAP//AAAAAAMAAAAKAAAAAAAAAAEAAAAKAAEAAAANAAYAAAAKAAIAAAANAAcAAAAKAAMAAAACAAEAAAAKAAQAAAAAAAEAAAAKAAUAAAAAAAEAAAAKAAYAAAAAAAEAAAAKAAcAAAAOAAAAAAAKAAgAAAAOAAMAAAAKAAkAAAAPAAQAAAAKAAoAAAAPAAUAAAAKAAsAAAAPAAcAAAALAP3/AAADAAUAADALAP7/AAAOAAQAAAALAP//AAAOAAUAAAALAAAAAAAOAAUAAAALAAEAAAAOAAYAAAALAAIAAAAOAAcAAAALAAMAAAAAAAEAAAALAAQAAAAAAAEAAAALAAUAAAAAAAAAAAALAAYAAAAAAAAAAAALAAcAAAAOAAAAAAALAAgAAAANAAMAAAALAAkAAAAPAAQAAAALAAoAAAAPAAUAAAALAAsAAAAPAAcAAAAMAP3/AAADAAUAADAMAP7/AAADAAQAADAMAP//AAAAAAMAAAAMAAAAAAAAAAEAAAAMAAEAAAAAAAEAAAAMAAIAAAAAAAEAAAAMAAMAAAAAAAEAAAAMAAQAAAAAAAEAAAAMAAUAAAAAAAAAAAAMAAYAAAAAAAAAAAAMAAcAAAAOAAAAAAAMAAgAAAANAAMAAAAMAAkAAAAPAAQAAAAMAAoAAAAPAAUAAAAMAAsAAAAPAAcAAAANAP3/AAADAAUAADANAP7/AAADAAQAADANAP//AAAAAAMAAAANAAAAAAAAAAEAAAANAAEAAAAAAAEAAAANAAIAAAAAAAEAAAANAAMAAAAAAAEAAAANAAQAAAAAAAEAAAANAAUAAAACAAEAAAANAAYAAAABAAEAAAANAAcAAAAOAAAAAAANAAgAAAAOAAMAAAANAAkAAAAPAAQAAAANAAoAAAAPAAUAAAANAAsAAAAPAAcAAAAOAP3/AAADAAUAADAOAP7/AAADAAQAADAOAP//AAAAAAMAAAAOAAAAAAAAAAEAAAAOAAEAAAAAAAEAAAAOAAIAAAAAAAEAAAAOAAMAAAAAAAEAAAAOAAQAAAAMAAAAAAAOAAUAAAAMAAEAAAAOAAYAAAAMAAEAAAAOAAcAAAAJAAEAAAAOAAgAAAAOAAMAAAAOAAkAAAAPAAQAAAAOAAoAAAAPAAUAAAAOAAsAAAAPAAcAAAAPAP3/AAADAAUAADAPAP7/AAADAAQAADAPAP//AAAAAAMAAAAPAAAAAAAAAAEAAAAPAAEAAAAAAAEAAAAPAAIAAAAAAAEAAAAPAAMAAAAAAAEAAAAPAAQAAAAPAAAAAAAPAAUAAAAPAAEAAAAPAAYAAAAPAAEAAAAPAAcAAAAPAAIAAAAPAAgAAAAPAAMAAAAPAAkAAAAPAAQAAAAPAAoAAAAPAAUAAAAPAAsAAAAPAAcAAAAQAP3/AAADAAUAADAQAP7/AAADAAQAADAQAP//AAAKAAcAAFAQAAAAAAALAAcAAFAQAAEAAAAMAAcAAFAQAAIAAAAMAAcAAFAQAAMAAAAMAAcAAFAQAAQAAAALAAcAAFAQAAUAAAAMAAcAAFAQAAYAAAAMAAcAAFAQAAcAAAANAAcAAFAQAAgAAAAOAAcAAFAQAAkAAAAPAAQAAAAQAAoAAAAPAAUAAAAQAAsAAAAPAAcAAAARAP3/AAAEAAUAADARAP7/AAAEAAQAADARAP//AAAKAAYAAFARAAAAAAALAAYAAFARAAEAAAAMAAYAAFARAAIAAAAMAAYAAFARAAMAAAAMAAYAAFARAAQAAAALAAYAAFARAAUAAAAMAAYAAFARAAYAAAAMAAYAAFARAAcAAAANAAYAAFARAAgAAAAOAAYAAFARAAkAAAAPAAQAAAARAAoAAAAPAAUAAAARAAsAAAAPAAcAAAD+/wwAAAAOAAcAAGD+/w0AAAANAAcAAGD9/wwAAAAOAAYAAGD9/w0AAAANAAYAAGD+/w4AAAANAAcAAED+/w8AAAAOAAcAAED9/w4AAAANAAYAAED9/w8AAAAOAAYAAEARAAwAAAAOAAYAAHARAA0AAAANAAYAAHAQAAwAAAAOAAcAAHAQAA0AAAANAAcAAHARAA4AAAANAAYAAFARAA8AAAAOAAYAAFAQAA4AAAANAAcAAFAQAA8AAAAOAAcAAFD//xAAAAAGAAYAAGD//xEAAAAFAAYAAGD+/xAAAAAGAAUAAGD+/xEAAAAFAAUAAGD9/xAAAAABAAEAAAD9/xEAAAAFAAQAAGAAABAAAAAGAAcAAGAAABEAAAAFAAcAAGAAABIAAAAEAAcAAGD//xIAAAAEAAYAAGD+/xIAAAAEAAUAAGD9/xIAAAAEAAQAAGARABAAAAABAAEAAAAQABAAAAAGAAUAAHAPABAAAAAGAAYAAHAOABAAAAAGAAcAAHARABEAAAAFAAQAAHAQABEAAAAFAAUAAHAPABEAAAAFAAYAAHAOABEAAAAFAAcAAHARABIAAAAEAAQAAHAQABIAAAAEAAUAAHAPABIAAAAEAAYAAHAOABIAAAAEAAcAAHABABAAAAAGAAcAAGABABEAAAAFAAcAAGABABIAAAAEAAcAAGACABAAAAAGAAcAAGACABEAAAAFAAcAAGACABIAAAAEAAcAAGADABAAAAAGAAcAAGADABEAAAAFAAcAAGADABIAAAAEAAcAAGAEABAAAAAGAAcAAGAEABEAAAAFAAcAAGAEABIAAAAEAAcAAGAFABAAAAAGAAcAAGAFABEAAAAFAAcAAGAFABIAAAAEAAcAAGAGABAAAAAGAAcAAGAGABEAAAAFAAcAAGAGABIAAAAEAAcAAGAHABAAAAAGAAcAAGAHABEAAAAFAAcAAGAHABIAAAAEAAcAAGAIABAAAAAGAAcAAGAIABEAAAAFAAcAAGAIABIAAAAEAAcAAGAJABAAAAAGAAcAAGAJABEAAAAFAAcAAGAJABIAAAAEAAcAAGAKABAAAAAGAAcAAGAKABEAAAAFAAcAAGAKABIAAAAEAAcAAGALABAAAAAGAAcAAGALABEAAAAFAAcAAGALABIAAAAEAAcAAGAMABAAAAAGAAcAAGAMABEAAAAFAAcAAGAMABIAAAAEAAcAAGANABAAAAAGAAcAAGANABEAAAAFAAcAAGANABIAAAAEAAcAAGANAA4AAAACAAEAAAAIAAwAAAACAAEAAAAEAA4AAAACAAEAAAABAA0AAAACAAEAAAAIAA8AAAABAAEAAAALAA0AAAABAAEAAAAOAAwAAAABAAEAAAAPAA4AAAABAAEAAAD//wwAAAABAAMAAAAAAAwAAAABAAMAAAABAAwAAAABAAMAAAACAAwAAAABAAMAAAADAAwAAAABAAMAAAAEAAwAAAABAAMAAAAFAAwAAAABAAMAAAAGAAwAAAABAAMAAAAHAAwAAAABAAMAAAD//w0AAAABAAMAAAD//w4AAAABAAMAAAD//w8AAAABAAMAAAAAAA0AAAABAAMAAAAAAA4AAAABAAMAAAAAAA8AAAABAAMAAAABAA4AAAABAAMAAAABAA8AAAABAAMAAAACAA4AAAABAAMAAAACAA8AAAABAAMAAAADAA4AAAABAAMAAAADAA8AAAABAAMAAAACAA0AAAABAAMAAAADAA0AAAABAAMAAAAEAA0AAAABAAMAAAAFAA0AAAABAAMAAAAGAA0AAAABAAMAAAAHAA0AAAABAAMAAAAIAA0AAAABAAMAAAAJAA0AAAABAAMAAAAKAA0AAAABAAMAAAAJAAwAAAABAAMAAAAKAAwAAAABAAMAAAALAAwAAAABAAMAAAAMAAwAAAABAAMAAAANAAwAAAABAAMAAAAPAAwAAAABAAMAAAAPAA0AAAABAAMAAAAMAA0AAAABAAMAAAANAA0AAAABAAMAAAAOAA0AAAABAAMAAAAOAA4AAAABAAMAAAAEAA8AAAABAAMAAAAFAA8AAAABAAMAAAAGAA8AAAABAAMAAAAHAA8AAAABAAMAAAAFAA4AAAABAAMAAAAGAA4AAAABAAMAAAAHAA4AAAABAAMAAAAIAA4AAAABAAMAAAAJAA4AAAABAAMAAAAKAA4AAAABAAMAAAALAA4AAAABAAMAAAAMAA4AAAABAAMAAAAJAA8AAAABAAMAAAAKAA8AAAABAAMAAAALAA8AAAABAAMAAAAMAA8AAAABAAMAAAANAA8AAAABAAMAAAAOAA8AAAABAAMAAAAPAA8AAAABAAMAAAA=")

[node name="Awdawdawd" parent="." instance=ExtResource("4_45xa8")]
tile_map_data = PackedByteArray("AAALAP7/AAAKAAgAAAALAP//AAAKAAkAAAALAAAAAAAKAAoAAAALAAEAAAAKAAsAAAAMAP7/AAALAAgAAAAMAP//AAALAAkAAAAMAAAAAAALAAoAAAAMAAEAAAALAAsAAAAMAAIAAAAKAA4AAAAMAAMAAAAKAA8AAAANAP7/AAAMAAgAAAANAP//AAAMAAkAAAANAAAAAAAMAAoAAAANAAEAAAAMAAsAAAANAAIAAAALAA4AAAANAAMAAAALAA8AAAAOAP7/AAANAAgAAAAOAP//AAANAAkAAAAOAAAAAAANAAoAAAAOAAEAAAANAAsAAAAOAAIAAAAMAA4AAAAOAAMAAAAMAA8AAAAPAP7/AAAOAAgAAAAPAP//AAAOAAkAAAAPAAAAAAAOAAoAAAAPAAEAAAAOAAsAAAAPAAIAAAANAA4AAAAPAAMAAAANAA8AAAAQAP7/AAAPAAgAAAAQAP//AAAPAAkAAAAQAAAAAAAPAAoAAAAQAAEAAAAPAAsAAAAMAP3/AAALAAcAAAANAP3/AAAMAAcAAAAOAP3/AAANAAcAAAAPAP3/AAAOAAcAAAA=")

[node name="PlayerSpawn" parent="." instance=ExtResource("3_mwxiv")]
position = Vector2(332, 211)

[node name="Plant" parent="." instance=ExtResource("4_tek06")]
position = Vector2(285, -13)

[node name="Plant2" parent="." instance=ExtResource("4_tek06")]
position = Vector2(325, -13)

[node name="Plant3" parent="." instance=ExtResource("4_tek06")]
position = Vector2(285, 25)

[node name="Plant4" parent="." instance=ExtResource("4_tek06")]
position = Vector2(325, 25)

[node name="LevelTransition" parent="." instance=ExtResource("5_mwxiv")]
position = Vector2(64, -96)
level = "uid://b3eefjkqiqyg2"
target_position_area = "LevelTransition2"
side = 2

[node name="LevelTransition_Shop" parent="." instance=ExtResource("8_45xa8")]
position = Vector2(481, 123)
collision_layer = 0
collision_mask = 4
level = "uid://if8xb4s300aj"
side = 2

[node name="Npc_REDMAN" parent="." instance=ExtResource("9_wrnjp")]
position = Vector2(414, 134.074)
npc_resource = SubResource("Resource_a2klq")

[node name="QuestActivatedSwitch" parent="Npc_REDMAN" instance=ExtResource("15_45xa8")]
remove_when_activated = true
linked_quest = ExtResource("16_sbev4")
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Checking if Player has quest"

[node name="DialogInteraction" parent="Npc_REDMAN/QuestActivatedSwitch" instance=ExtResource("17_vv7nh")]

[node name="DialogText" type="Node" parent="Npc_REDMAN/QuestActivatedSwitch/DialogInteraction"]
script = ExtResource("18_s3up8")
text = "Oy, magiting na tagapagligtas, maaari mo ba akong tulungan kunin ang flute ko sa dark dungeon?"
npc_info = ExtResource("19_dffud")
metadata/_custom_type_script = "uid://bl2li7lbphm71"

[node name="DialogChoice" type="Node" parent="Npc_REDMAN/QuestActivatedSwitch/DialogInteraction"]
script = ExtResource("20_mdb57")
npc_info = ExtResource("19_dffud")
metadata/_custom_type_script = "uid://dqede62fqybid"

[node name="DialogBranch" type="Node" parent="Npc_REDMAN/QuestActivatedSwitch/DialogInteraction/DialogChoice"]
script = ExtResource("21_gm670")
text = "Sige!"
npc_info = ExtResource("19_dffud")
metadata/_custom_type_script = "uid://c1vxl5di4hfss"

[node name="QuestAdvanceTrigger" parent="Npc_REDMAN/QuestActivatedSwitch/DialogInteraction/DialogChoice/DialogBranch" instance=ExtResource("22_fw76p")]
position = Vector2(414, 126)
signal_name = "selected"
linked_quest = ExtResource("16_sbev4")
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Step: 0 - N/A
Complete: false"

[node name="DialogText" type="Node" parent="Npc_REDMAN/QuestActivatedSwitch/DialogInteraction/DialogChoice/DialogBranch"]
script = ExtResource("18_s3up8")
text = "Salamat at Ingat ka, mwa mwa!"
npc_info = ExtResource("19_dffud")
metadata/_custom_type_script = "uid://bl2li7lbphm71"

[node name="DialogBranch2" type="Node" parent="Npc_REDMAN/QuestActivatedSwitch/DialogInteraction/DialogChoice"]
script = ExtResource("21_gm670")
text = "Nahhh.."
npc_info = ExtResource("19_dffud")
metadata/_custom_type_script = "uid://c1vxl5di4hfss"

[node name="DialogText" type="Node" parent="Npc_REDMAN/QuestActivatedSwitch/DialogInteraction/DialogChoice/DialogBranch2"]
script = ExtResource("18_s3up8")
text = "Madamot amp!"
npc_info = ExtResource("19_dffud")
metadata/_custom_type_script = "uid://bl2li7lbphm71"

[node name="QuestActivatedSwitch3" type="Node" parent="Npc_REDMAN"]
script = ExtResource("23_xflnv")
check_type = 2
remove_when_activated = true
react_to_global_signal = true
linked_quest = ExtResource("16_sbev4")
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Check if Player is on step: N/A"
metadata/_custom_type_script = "uid://b1mjvc00tsgmu"

[node name="QuestActivatedSwitch2" parent="Npc_REDMAN/QuestActivatedSwitch3" instance=ExtResource("15_45xa8")]
position = Vector2(414, 126)
react_to_global_signal = true
linked_quest = ExtResource("16_sbev4")
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Checking if Player has quest"

[node name="QuestActivatedSwitch3" parent="Npc_REDMAN/QuestActivatedSwitch3/QuestActivatedSwitch2" instance=ExtResource("15_45xa8")]
check_type = 2
remove_when_activated = true
react_to_global_signal = true
linked_quest = ExtResource("16_sbev4")
quest_step = 3
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Check if Player is on step: go back to red man"

[node name="DialogInteraction" parent="Npc_REDMAN/QuestActivatedSwitch3/QuestActivatedSwitch2/QuestActivatedSwitch3" instance=ExtResource("17_vv7nh")]

[node name="DialogText" type="Node" parent="Npc_REDMAN/QuestActivatedSwitch3/QuestActivatedSwitch2/QuestActivatedSwitch3/DialogInteraction"]
script = ExtResource("18_s3up8")
text = "Salamat at tinanggap mo ang aking hiling. Mag-iingat ka, magiting na mandirigma!"
npc_info = ExtResource("19_dffud")
metadata/_custom_type_script = "uid://bl2li7lbphm71"

[node name="QuestActivatedSwitch" parent="Npc_REDMAN/QuestActivatedSwitch3/QuestActivatedSwitch2" instance=ExtResource("15_45xa8")]
check_type = 1
react_to_global_signal = true
linked_quest = ExtResource("16_sbev4")
quest_step = 2
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Checking if Player has completed step: find the flute"

[node name="DialogInteraction2" parent="Npc_REDMAN/QuestActivatedSwitch3/QuestActivatedSwitch2/QuestActivatedSwitch" instance=ExtResource("17_vv7nh")]

[node name="DialogText" type="Node" parent="Npc_REDMAN/QuestActivatedSwitch3/QuestActivatedSwitch2/QuestActivatedSwitch/DialogInteraction2"]
script = ExtResource("18_s3up8")
text = "Salamat sa pagbalik ng aking Magical Flute. Ito ang iyong Reward"
npc_info = ExtResource("19_dffud")
metadata/_custom_type_script = "uid://bl2li7lbphm71"

[node name="QuestAdvanceTrigger" parent="Npc_REDMAN/QuestActivatedSwitch3/QuestActivatedSwitch2/QuestActivatedSwitch/DialogInteraction2" instance=ExtResource("22_fw76p")]
signal_name = "finished"
linked_quest = ExtResource("16_sbev4")
quest_step = 3
quest_complete = true
settings_summary = "UPDATE QUEST:
Quest: Recover Lost Flute
Step: 3 - go back to red man
Complete: true"

[node name="Node" type="Node" parent="Npc_REDMAN/QuestActivatedSwitch3/QuestActivatedSwitch2/QuestActivatedSwitch/DialogInteraction2/QuestAdvanceTrigger"]
script = SubResource("GDScript_xflnv")

[node name="ItemPickup" parent="." instance=ExtResource("22_d1jyu")]
position = Vector2(244, 203)
item_data = ExtResource("23_a2klq")
item_count = 2

[node name="ItemPickup2" parent="." instance=ExtResource("22_d1jyu")]
position = Vector2(280, 203)
item_data = ExtResource("24_0j6pc")
item_count = 3

[node name="GrapplePost2" parent="." instance=ExtResource("25_a2klq")]
position = Vector2(60, 398)

[node name="GrapplePost3" parent="." instance=ExtResource("25_a2klq")]
position = Vector2(1, 268)
